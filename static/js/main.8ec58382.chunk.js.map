{"version":3,"sources":["components/Gallery/Gallery.module.css","components/PhotoCard/PhotoCard.module.css","components/LoadMore/LoadMore.module.css","components/SearchForm/SearchForm.js","components/Modal/Modal.js","components/PhotoCard/PhotoCard.js","components/Gallery/Gallery.js","components/LoadMore/LoadMore.js","components/App.js","index.js","components/SearchForm/SearchForm.module.css","components/Modal/Modal.module.css"],"names":["module","exports","gallery","photoCard","img","stats","statsItem","fullscreenButton","fullscreenIcon","button","SearchForm","state","value","upperSearch","getValue","e","_this","setState","target","getSearchValue","props","preventDefault","setUpperSearch","reset","upper","toUpperCase","_this$state","this","react_default","a","createElement","className","styles","searchForm","onSubmit","type","autoComplete","placeholder","onChange","searchFormInput","Component","Modal","backdropRef","createRef","handleKeyPress","code","onClose","handleBackdropClick","current","window","addEventListener","removeEventListener","_this$props","children","url","backdrop","ref","onClick","modal","PhotoCard","isModalOpen","handleToggleOpen","id","webformatURL","largeImageURL","likes","views","comments","downloads","src","alt","Modal_Modal","overlay","Gallery","items","map","el","key","components_PhotoCard_PhotoCard","LoadMore","_ref","handleMoreClick","Fragment","App","emptyItems","searchValue","perPage","servicesAPI","axios","get","concat","then","data","hits","resetPerPage","prevState","String","Number","scrollPageToBottom","scrollTo","top","document","body","scrollHeight","behavior","prevProps","_this$state2","length","_this$state3","app","components_SearchForm_SearchForm","components_Gallery_Gallery","components_LoadMore_LoadMore","loadMore","ReactDOM","render","components_App","getElementById"],"mappings":"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","file":"static/js/main.8ec58382.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"gallery\":\"Gallery_gallery__2mI9S\",\"photoCard\":\"Gallery_photoCard__uEZPv\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"img\":\"PhotoCard_img__1hU8C\",\"stats\":\"PhotoCard_stats__12idK\",\"statsItem\":\"PhotoCard_statsItem__B8kmh\",\"fullscreenButton\":\"PhotoCard_fullscreenButton__2HCaf\",\"fullscreenIcon\":\"PhotoCard_fullscreenIcon__NlsD2\",\"photoCard\":\"PhotoCard_photoCard__1-q-v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"LoadMore_button__JCx0l\"};","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './SearchForm.module.css';\n\nclass SearchForm extends Component {\n  state = {\n    value: '',\n    upperSearch: 'Search images...',\n  };\n\n  getValue = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  getSearchValue = e => {\n    const { getSearchValue } = this.props;\n    const { value } = this.state;\n    e.preventDefault();\n    getSearchValue(value);\n    this.setUpperSearch(value);\n    this.reset();\n  };\n\n  setUpperSearch = value => {\n    const upper = value.toUpperCase();\n    this.setState({\n      upperSearch: upper,\n    });\n  };\n\n  reset = () => {\n    this.setState({\n      value: '',\n    });\n  };\n\n  render() {\n    const { value, upperSearch } = this.state;\n    return (\n      <form className={styles.searchForm} onSubmit={this.getSearchValue}>\n        <input\n          type=\"text\"\n          autoComplete=\"off\"\n          placeholder={upperSearch}\n          value={value}\n          onChange={this.getValue}\n          className={styles.searchFormInput}\n        />\n      </form>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  getSearchValue: PropTypes.func.isRequired,\n};\n\nexport default SearchForm;\n","/*eslint-disable*/\nimport React, { Component, createRef } from 'react';\nimport styles from './Modal.module.css';\n\nexport default class Modal extends Component {\n  state = {};\n\n  backdropRef = createRef();\n\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyPress);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyPress);\n  }\n\n  handleKeyPress = e => {\n    if (e.code !== 'Escape') return;\n    this.props.onClose();\n  };\n\n  handleBackdropClick = e => {\n    const { current } = this.backdropRef;\n    if (current && e.target !== current) {\n      return;\n    }\n    this.props.onClose();\n  };\n\n  render() {\n    const { children, url } = this.props;\n    return (\n      <div\n        className={styles.backdrop}\n        ref={this.backdropRef}\n        onClick={this.handleBackdropClick}\n      >\n        <div className={styles.modal}>{children}</div>\n      </div>\n    );\n  }\n}\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './PhotoCard.module.css';\nimport Modal from '../Modal/Modal';\n\nclass PhotoCard extends Component {\n  state = {\n    isModalOpen: false,\n  };\n\n  handleToggleOpen = () => {\n    this.setState(state => ({\n      isModalOpen: !state.isModalOpen,\n    }));\n  };\n\n  render() {\n    const {\n      id,\n      webformatURL,\n      largeImageURL,\n      likes,\n      views,\n      comments,\n      downloads,\n    } = this.props;\n    const { isModalOpen } = this.state;\n    return (\n      <div className={styles.photoCard}>\n        <img className={styles.img} src={webformatURL} alt=\"\" />\n\n        <div className={styles.stats}>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">thumb_up</i>\n            {likes}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">visibility</i>\n            {views}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">comment</i>\n            {comments}\n          </p>\n          <p className={styles.statsItem}>\n            <i className=\"material-icons\">cloud_download</i>\n            {downloads}\n          </p>\n        </div>\n        {!isModalOpen && (\n          <button\n            type=\"button\"\n            className={styles.fullscreenButton}\n            onClick={this.handleToggleOpen}\n          >\n            <i className=\"material-icons\">zoom_out_map</i>\n          </button>\n        )}\n        {isModalOpen && (\n          <Modal id={id} url={largeImageURL} onClose={this.handleToggleOpen}>\n            <div className={styles.overlay}>\n              <div className={styles.modal}>\n                <img src={largeImageURL} alt=\"\" />\n              </div>\n            </div>\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nPhotoCard.propTypes = {\n  id: PropTypes.number.isRequired,\n  webformatURL: PropTypes.string.isRequired,\n  largeImageURL: PropTypes.string.isRequired,\n  likes: PropTypes.number.isRequired,\n  views: PropTypes.number.isRequired,\n  comments: PropTypes.number.isRequired,\n  downloads: PropTypes.number.isRequired,\n};\n\nexport default PhotoCard;\n","import React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport PhotoCard from '../PhotoCard/PhotoCard';\nimport styles from './Gallery.module.css';\n\nclass Gallery extends Component {\n  state = {};\n\n  render() {\n    const { items } = this.props;\n    return (\n      <ul className={styles.gallery}>\n        {items.map(el => (\n          <li className={styles.photoCard} key={el.id}>\n            <PhotoCard {...el} />\n          </li>\n        ))}\n      </ul>\n    );\n  }\n}\n\nGallery.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.object.isRequired).isRequired,\n};\n\nexport default Gallery;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport styles from './LoadMore.module.css';\n\nconst LoadMore = ({ handleMoreClick }) => {\n  return (\n    <>\n      <button className={styles.button} type=\"button\" onClick={handleMoreClick}>\n        Load more\n      </button>\n    </>\n  );\n};\n\nLoadMore.propTypes = {\n  handleMoreClick: PropTypes.func.isRequired,\n};\n\nexport default LoadMore;\n","import React, { Component } from 'react';\nimport axios from 'axios';\nimport SearchForm from './SearchForm/SearchForm';\nimport Gallery from './Gallery/Gallery';\nimport styles from './App.module.css';\nimport LoadMore from './LoadMore/LoadMore';\n\nclass App extends Component {\n  state = {\n    items: [],\n    emptyItems: false,\n    searchValue: '',\n    perPage: '12',\n  };\n\n  componentDidMount() {\n    const { searchValue, perPage } = this.state;\n    this.servicesAPI(searchValue, perPage);\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    const { searchValue, perPage, items } = this.state;\n    if (prevState.searchValue !== searchValue) {\n      this.resetPerPage();\n      this.servicesAPI(searchValue, perPage);\n    }\n    if (prevState.perPage !== perPage && perPage !== '12') {\n      this.servicesAPI(searchValue, perPage);\n    }\n    if (items.length > 12) {\n      this.scrollPageToBottom();\n    }\n  }\n\n  servicesAPI = (searchValue, perPage) => {\n    axios\n      .get(\n        `https://pixabay.com/api/?image_type=photo&orientation=horizontal&q=${searchValue}&page=1&per_page=${perPage}&key=12869322-4857e225bc17e2a940faa9df9`,\n      )\n      .then(({ data }) => this.setState({ items: data.hits }));\n  };\n\n  resetPerPage = () => {\n    this.setState({\n      perPage: '12',\n    });\n  };\n\n  getSearchValue = value => {\n    this.setState({\n      searchValue: value,\n    });\n  };\n\n  handleMoreClick = () => {\n    const count = 12;\n    this.setState(prevState => ({\n      perPage: String(Number(prevState.perPage) + count),\n    }));\n  };\n\n  scrollPageToBottom = () => {\n    window.scrollTo({\n      top: document.body.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  render() {\n    const { items, searchValue, emptyItems } = this.state;\n    return (\n      <div className={styles.app}>\n        <SearchForm\n          getSearchValue={this.getSearchValue}\n          searchValue={searchValue}\n        />\n        {emptyItems && (\n          <div>\n            <p>null</p>\n          </div>\n        )}\n        <Gallery items={items} handleMoreClick={this.handleMoreClick} />\n        {items.length > 0 && (\n          <LoadMore\n            className={styles.loadMore}\n            handleMoreClick={this.handleMoreClick}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchForm\":\"SearchForm_searchForm__1x6lc\",\"searchFormInput\":\"SearchForm_searchFormInput__2xtHN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__1OT8G\",\"modal\":\"Modal_modal__30COz\"};"],"sourceRoot":""}